<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title id="page-title">CommandBar Pro - Opciones</title>
  <link rel="stylesheet" href="options.css">
</head>
<body>
  <div class="options-container">
    <header class="options-header">
      <div class="header-content">
        <h1 class="options-title">
          <span class="title-icon">‚ö°</span>
          <span id="options-app-name">CommandBar Pro</span>
        </h1>
        <p class="options-subtitle" id="options-subtitle">Configuraci√≥n Avanzada</p>
      </div>
    </header>

    <main class="options-content">
      <div class="options-grid">
        <!-- Support Section -->
        <section class="option-section support-section">
          <h2 class="section-title support-title" id="support-title">
            <span class="section-icon">‚òï</span>
            <span>Apoya el Desarrollo</span>
          </h2>
          <div class="support-content">
            <p id="support-message" class="support-message">Esta extensi√≥n ha sido desarrollada con cari√±o, y todas sus funciones son totalmente gratuitas. Desde lo m√°s m√≠nimo, puedes ayudarme a seguir manteniendo y actualizando la extensi√≥n, ser√≠a de gran ayuda.</p>
            <a href="https://coff.ee/vandertoorm" target="_blank" class="coffee-btn">
              <span class="coffee-icon">‚òï</span>
              <span id="support-buy-coffee">Comprar un Caf√©</span>
            </a>
          </div>
        </section>

        <!-- Idioma (Primera opci√≥n) -->
        <section class="option-section">
          <h2 class="section-title">
            <span class="section-icon">üåê</span>
            <span id="language-title">Idioma</span>
          </h2>
          <div class="option-group">
            <div class="option-item">
              <div class="option-info">
                <label class="option-label" for="language-select" id="interface-language-label">Idioma de la Interfaz</label>
                <p class="option-description" id="interface-language-desc">Selecciona el idioma de CommandBar</p>
              </div>
              <select id="language-select" class="option-select">
                <option value="es">Espa√±ol</option>
                <option value="en">English</option>
              </select>
            </div>
          </div>
        </section>

        <!-- Configuraci√≥n General -->
        <section class="option-section">
          <h2 class="section-title">
            <span class="section-icon">‚öôÔ∏è</span>
            <span id="general-settings-title">Configuraci√≥n General</span>
          </h2>
          <div class="option-group">
            <div class="option-item">
              <div class="option-info">
                <label class="option-label" for="theme-select" id="interface-theme-label">Tema de Interfaz</label>
                <p class="option-description" id="interface-theme-desc">Selecciona el tema visual de CommandBar</p>
              </div>
              <select id="theme-select" class="option-select">
                <option value="auto" id="theme-auto">Autom√°tico (Sistema)</option>
                <option value="light" id="theme-light">Claro</option>
                <option value="dark" id="theme-dark">Oscuro</option>
              </select>
            </div>

            <div class="option-item">
              <div class="option-info">
                <label class="option-label" for="animation-speed" id="animation-speed-label">Velocidad de Animaciones</label>
                <p class="option-description" id="animation-speed-desc">Controla la velocidad de las transiciones</p>
              </div>
              <select id="animation-speed" class="option-select">
                <option value="slow" id="animation-slow">Lenta</option>
                <option value="normal" id="animation-normal">Normal</option>
                <option value="fast" id="animation-fast">R√°pida</option>
                <option value="none" id="animation-none">Sin animaciones</option>
              </select>
            </div>

            <div class="option-item">
              <div class="option-info">
                <label class="option-label" for="max-results" id="max-results-label">M√°ximo de Resultados</label>
                <p class="option-description" id="max-results-desc">N√∫mero m√°ximo de sugerencias por categor√≠a</p>
              </div>
              <input type="number" id="max-results" class="option-input" min="3" max="20" value="5">
            </div>
          </div>
        </section>

        <!-- Configuraci√≥n de B√∫squeda -->
        <section class="option-section">
          <h2 class="section-title">
            <span class="section-icon">üîç</span>
            <span id="search-settings-title">B√∫squeda y Resultados</span>
          </h2>
          <div class="option-group">
            <div class="option-item">
              <div class="option-info">
                <label class="option-label" id="search-sources-label">Fuentes de B√∫squeda</label>
                <p class="option-description" id="search-sources-desc">Selecciona d√≥nde buscar resultados</p>
              </div>
              <div class="checkbox-group">
                <label class="checkbox-item">
                  <input type="checkbox" id="search-tabs" checked>
                  <span class="checkbox-label" id="search-tabs-label">Pesta√±as Abiertas</span>
                </label>
                <label class="checkbox-item">
                  <input type="checkbox" id="search-bookmarks" checked>
                  <span class="checkbox-label" id="search-bookmarks-label">Marcadores</span>
                </label>
                <label class="checkbox-item">
                  <input type="checkbox" id="search-history" checked>
                  <span class="checkbox-label" id="search-history-label">Historial</span>
                </label>
              </div>
            </div>

            <div class="option-item">
              <div class="option-info">
                <label class="option-label" for="search-delay" id="search-delay-label">Retraso de B√∫squeda (ms)</label>
                <p class="option-description" id="search-delay-desc">Tiempo de espera antes de ejecutar b√∫squeda</p>
              </div>
              <input type="range" id="search-delay" class="option-range" min="0" max="1000" value="50" step="50">
              <span class="range-value" id="search-delay-value">50ms</span>
            </div>

            <div class="option-item">
              <div class="option-info">
                <label class="option-label" for="default-search-engine" id="default-search-engine-label">Buscador por Defecto</label>
                <p class="option-description" id="default-search-engine-desc">Motor de b√∫squeda para consultas web</p>
              </div>
              <select id="default-search-engine" class="option-select">
                <option value="google" id="engine-google">Google</option>
                <option value="bing" id="engine-bing">Bing</option>
                <option value="duckduckgo" id="engine-duckduckgo">DuckDuckGo</option>
                <option value="yahoo" id="engine-yahoo">Yahoo</option>
              </select>
            </div>
          </div>
        </section>

        <!-- Atajos de Teclado -->
        <section class="option-section">
          <h2 class="section-title">
            <span class="section-icon">‚å®Ô∏è</span>
            <span id="keyboard-shortcuts-title">Atajos de Teclado</span>
          </h2>
          <div class="option-group">
            <div class="option-item">
              <div class="option-info">
                <label class="option-label" id="main-shortcuts-label">Atajos Principales</label>
                <p class="option-description" id="main-shortcuts-desc">Combinaciones de teclado para CommandBar</p>
              </div>
              <div style="display: flex; flex-direction: column; gap: 8px;">
                <div class="shortcut-display">
                  <kbd class="key">Ctrl</kbd> + <kbd class="key">K</kbd>
                  <span class="shortcut-note" id="open-commandbar-shortcut">Abrir Command Bar</span>
                </div>
                <div class="shortcut-display">
                  <kbd class="key">Ctrl</kbd> + <kbd class="key">Shift</kbd> + <kbd class="key">K</kbd>
                  <span class="shortcut-note" id="edit-url-shortcut">Editar URL actual</span>
                </div>
              </div>
            </div>

            <div class="option-item">
              <div class="option-info">
                <label class="option-label" id="additional-config-label">Configuraci√≥n Adicional</label>
                <p class="option-description" id="additional-config-desc">Personaliza el comportamiento de los atajos</p>
              </div>
              <div class="checkbox-group">
                <label class="checkbox-item">
                  <input type="checkbox" id="prevent-site-shortcuts" checked>
                  <span class="checkbox-label" id="prevent-site-shortcuts-label">Prevenir atajos del sitio web</span>
                </label>
              </div>
            </div>
          </div>
        </section>

        <!-- Privacidad y Datos -->
        <section class="option-section">
          <h2 class="section-title">
            <span class="section-icon">üîí</span>
            <span id="privacy-title">Privacidad y Datos</span>
          </h2>
          <div class="option-group">
            <div class="option-item">
              <div class="option-info">
                <label class="option-label" id="data-collection-label">Recopilaci√≥n de Datos</label>
                <p class="option-description" id="data-collection-desc">Control sobre qu√© datos se almacenan localmente</p>
              </div>
              <div class="checkbox-group">
                <label class="checkbox-item">
                  <input type="checkbox" id="store-usage-stats">
                  <span class="checkbox-label" id="usage-stats-label">Estad√≠sticas de uso (local)</span>
                </label>
              </div>
            </div>

            <div class="option-item">
              <div class="option-info">
                <label class="option-label" id="stats-viewer-label">Estad√≠sticas Recopiladas</label>
                <p class="option-description" id="stats-viewer-desc">Visualiza las estad√≠sticas de uso almacenadas localmente</p>
              </div>
              <div class="button-group">
                <button class="option-button secondary" id="view-stats">
                  <span class="button-icon">üìä</span>
                  <span id="view-stats-text">Ver Estad√≠sticas</span>
                </button>
                <button class="option-button secondary" id="refresh-stats">
                  <span class="button-icon">üîÑ</span>
                  <span id="refresh-stats-text">Actualizar</span>
                </button>
              </div>
              
              <!-- Panel de estad√≠sticas (inicialmente oculto) -->
              <div id="stats-panel" style="display: none; margin-top: 15px; padding: 15px; background: #f8f9fa; border-radius: 8px; border: 1px solid #e9ecef;">
                <div id="stats-content">
                  <div class="stats-loading" id="stats-loading" style="text-align: center; color: #6c757d;">
                    <span>üìä Cargando estad√≠sticas...</span>
                  </div>
                  <div id="stats-data" style="display: none;">
                    <!-- El contenido se llenar√° din√°micamente -->
                  </div>
                </div>
              </div>
            </div>

            <div class="option-item">
              <div class="option-info">
                <label class="option-label" id="data-cleanup-label">Limpieza de Datos</label>
                <p class="option-description" id="data-cleanup-desc">Gestionar datos almacenados</p>
              </div>
              <div class="button-group">
                <button class="option-button secondary" id="clear-cache">
                  <span class="button-icon">üóëÔ∏è</span>
                  <span id="clear-cache-text">Limpiar Cache</span>
                </button>
                <button class="option-button secondary" id="clear-stats">
                  <span class="button-icon">üìä</span>
                  <span id="clear-stats-text">Limpiar Estad√≠sticas</span>
                </button>
                <button class="option-button danger" id="reset-all">
                  <span class="button-icon">üîÑ</span>
                  <span id="reset-all-text">Restablecer Todo</span>
                </button>
              </div>
            </div>
          </div>
        </section>


        <!-- Funciones Experimentales -->
        <!-- NOTA: Esta secci√≥n est√° hardcodeada en ingl√©s para evitar problemas de traducci√≥n -->
        <section class="option-section experimental-section">
          <h2 class="section-title">
            <span class="section-icon">üß™</span>
            <span id="experimental-title">Experimental Functions</span>
            <span class="beta-badge">BETA</span>
          </h2>
          <div class="experimental-warning" id="experimental-warning">
            <span class="warning-icon">‚ö†Ô∏è</span>
            <span id="experimental-warning-text">Experimental functions are under development and may change in future versions. Use them at your own risk.</span>
          </div>
          
          <div class="option-group">
            <div class="option-item">
              <div class="option-info">
                <label class="option-label" id="auto-open-new-tab-label">Auto-open in New Tab</label>
                <p class="option-description" id="auto-open-new-tab-desc">Automatically open complete CommandBar when creating new empty tabs (Ctrl+T, + button). Includes all features: tab search, bookmarks, history, and intelligent autocompletion.</p>
              
              </div>
              <div class="checkbox-group">
                <label class="checkbox-item">
                  <input type="checkbox" id="auto-open-new-tab">
                  <span class="checkbox-label" id="auto-open-enabled-label">Enable auto-open</span>
                </label>
              </div>
            </div>

            <div class="option-item">
              <div class="option-info">
                <label class="option-label" for="auto-open-delay" id="auto-open-delay-label">Auto-open Delay (ms)</label>
                <p class="option-description" id="auto-open-delay-desc">Wait time before opening CommandBar (100ms recommended for fast transition)</p>
              </div>
              <input type="range" 
                         id="auto-open-delay" 
                         min="50" 
                         max="2000" 
                         step="50" 
                         value="100" 
                         class="option-range">
              <span class="range-value" id="auto-open-delay-value">100ms</span>
            </div>
            
          
          </div>
        </section>

        <!-- Cache ULTRA -->
        <section class="option-section">
          <h2 class="section-title">
            <span class="section-icon">‚ö°</span>
            <span id="cache-management-title">Cache ULTRA</span>
            <span class="beta-badge">ULTRA</span>
          </h2>
          <div class="option-group">
            <div class="option-item">
              <div class="option-info">
                <label class="option-label" id="cache-status-label">Estado del Cache ULTRA</label>
                <p class="option-description" id="cache-status-desc">Sistema de cache permanente con favicons precargados</p>
              </div>
              <div class="cache-status" id="cache-status">
                <div class="cache-info">
                  <div class="cache-item">
                    <span class="cache-label">Estado:</span>
                    <span class="cache-value" id="cache-state">Cargando...</span>
                  </div>
                  <div class="cache-item">
                    <span class="cache-label">URLs en cache:</span>
                    <span class="cache-value" id="cache-urls">-</span>
                  </div>
                  <div class="cache-item">
                    <span class="cache-label">Dominios √∫nicos:</span>
                    <span class="cache-value" id="cache-domains">-</span>
                  </div>
                  <div class="cache-item">
                    <span class="cache-label">Favicons cacheados:</span>
                    <span class="cache-value" id="cache-favicons">-</span>
                  </div>
                  <div class="cache-item">
                    <span class="cache-label">√öltima actualizaci√≥n:</span>
                    <span class="cache-value" id="cache-last-update">-</span>
                  </div>
                  <div class="cache-item">
                    <span class="cache-label">Uso de memoria:</span>
                    <span class="cache-value" id="cache-memory">-</span>
                  </div>
                  <div class="cache-item">
                    <span class="cache-label">Auto-actualizaci√≥n:</span>
                    <span class="cache-value" id="cache-auto-update">‚úÖ Activa</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="option-item">
              <div class="option-info">
                <label class="option-label" id="cache-actions-label">Acciones de Cache ULTRA</label>
                <p class="option-description" id="cache-actions-desc">Gestiona el sistema de cache avanzado</p>
              </div>
              <div class="cache-actions">
                <button class="option-button primary" id="rebuild-cache">
                  <span class="button-icon">‚ö°</span>
                  <span id="rebuild-cache-text">Cargar Cache ULTRA</span>
                </button>
                <button class="option-button secondary" id="clear-cache">
                  <span class="button-icon">üóëÔ∏è</span>
                  <span id="clear-cache-text">Limpiar Cache</span>
                </button>
                <button class="option-button secondary" id="view-top-domains">
                  <span class="button-icon">üìä</span>
                  <span id="view-top-domains-text">Ver Dominios Top</span>
                </button>
                <button class="option-button secondary" id="cache-stats">
                  <span class="button-icon">üìà</span>
                  <span id="cache-stats-text">Estad√≠sticas</span>
                </button>
              </div>
            </div>

            <div class="option-item">
              <div class="option-info">
                <label class="option-label" id="cache-config-label">Configuraci√≥n Avanzada</label>
                <p class="option-description" id="cache-config-desc">Ajusta el comportamiento del cache ULTRA</p>
              </div>
              <div class="cache-config">
                <div class="config-item">
                  <label class="config-label" for="max-urls">M√°ximo de URLs:</label>
                  <input type="number" id="max-urls" class="config-input" min="10000" max="200000" value="100000">
                  <span class="config-hint">(10,000 - 200,000)</span>
                </div>
                <div class="config-item">
                  <label class="config-label" for="max-favicons">M√°ximo de Favicons:</label>
                  <input type="number" id="max-favicons" class="config-input" min="100" max="5000" value="1000">
                  <span class="config-hint">(100 - 5,000)</span>
                </div>
                <div class="config-item">
                  <label class="checkbox-item">
                    <input type="checkbox" id="auto-update-cache" checked>
                    <span class="checkbox-label">Auto-actualizaci√≥n al visitar p√°ginas</span>
                  </label>
                </div>
                <div class="config-item">
                  <label class="checkbox-item">
                    <input type="checkbox" id="persistent-cache" checked>
                    <span class="checkbox-label">Cache persistente (sobrevive a reinicios)</span>
                  </label>
                </div>
              </div>
            </div>

            <div class="option-item" id="cache-progress-container" style="display: none;">
              <div class="option-info">
                <label class="option-label" id="cache-progress-label">Progreso de Carga ULTRA</label>
                <p class="option-description" id="cache-progress-desc">Procesando historial completo...</p>
              </div>
              <div class="cache-progress">
                <div class="progress-bar">
                  <div class="progress-fill" id="progress-fill"></div>
                </div>
                <div class="progress-text" id="progress-text">Iniciando...</div>
              </div>
            </div>

            <div class="option-item" id="top-domains-container" style="display: none;">
              <div class="option-info">
                <label class="option-label" id="top-domains-label">Dominios M√°s Visitados</label>
                <p class="option-description" id="top-domains-desc">Los sitios web m√°s frecuentes en tu historial</p>
              </div>
              <div class="top-domains-list" id="top-domains-list">
                <!-- Se llena din√°micamente -->
              </div>
            </div>

            <div class="option-item" id="cache-stats-container" style="display: none;">
              <div class="option-info">
                <label class="option-label" id="cache-stats-label">Estad√≠sticas Detalladas</label>
                <p class="option-description" id="cache-stats-desc">Informaci√≥n completa del rendimiento del cache</p>
              </div>
              <div class="cache-stats" id="cache-stats-content">
                <!-- Se llena din√°micamente -->
              </div>
            </div>
          </div>
        </section>

      </div>
    </main>

    <footer class="options-footer">
      <div class="footer-content">
        <div class="footer-info">
          <p class="footer-text" id="footer-version">CommandBar Pro v1.3.0</p>
          <p class="footer-links">
            <a href="#" id="view-changelog" class="footer-link">Registro de cambios</a> ‚Ä¢
            <a href="#" id="report-bug" class="footer-link">Reportar bug</a> ‚Ä¢
            <a href="#" id="view-source" class="footer-link">Ver c√≥digo fuente</a>
          </p>
        </div>
        <div class="footer-actions">
          <button class="option-button secondary" id="export-settings">
            <span class="button-icon">üì§</span>
            <span id="export-settings-text">Exportar Configuraci√≥n</span>
          </button>
          <button class="option-button secondary" id="import-settings">
            <span class="button-icon">üì•</span>
            <span id="import-settings-text">Importar Configuraci√≥n</span>
          </button>
          <button class="option-button primary" id="save-options">
            <span class="button-icon">üíæ</span>
            <span id="save-changes-text">Guardar Cambios</span>
          </button>
        </div>
      </div>
    </footer>
  </div>

  <!-- Modal para confirmaciones -->
  <div class="modal-overlay" id="modal-overlay" style="display: none;">
    <div class="modal">
      <div class="modal-header">
        <h3 class="modal-title" id="modal-title">Confirmar acci√≥n</h3>
        <button class="modal-close" id="modal-close">‚úï</button>
      </div>
      <div class="modal-content">
        <p class="modal-message" id="modal-message">¬øEst√°s seguro de que quieres continuar?</p>
      </div>
      <div class="modal-footer">
        <button class="option-button secondary" id="modal-cancel">
          <span id="modal-cancel-text">Cancelar</span>
        </button>
        <button class="option-button primary" id="modal-confirm">
          <span id="modal-confirm-text">Confirmar</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Notificaci√≥n toast -->
  <div class="toast" id="toast" style="display: none;">
    <span class="toast-icon" id="toast-icon">‚úÖ</span>
    <span class="toast-message" id="toast-message">Configuraci√≥n guardada correctamente</span>
  </div>

  <script src="i18n.js"></script>
  <script src="options.js"></script>
</body>
</html> 